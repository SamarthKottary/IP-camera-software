<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QST Obsidian | Command</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;800&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="app-container">
        <!-- Sidebar: AI Models -->
        <aside class="sidebar">
            <h2 class="sidebar-title">Detection Models</h2>
            <ul id="sidebar-models" class="ai-model-list">
                <!-- Dynamically populated -->
            </ul>

            <div style="flex: 1"></div>

            <h2 class="sidebar-title" style="margin-top: 20px;">System</h2>
            <ul class="ai-model-list">
                <li class="model-item storage active" id="sidebar-storage">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span class="model-label">EVENTS LOGGED</span>
                    <span class="model-count" id="total-events-count">--</span>
                </li>
            </ul>


        </aside>

        <!-- Top Bar -->
        <header class="header">
            <div class="live-feed-ticker">
                <span class="ticker-label">LIVE</span>
                <span class="ticker-msg" id="ticker-msg">SYSTEM INITIALIZING... ACQUIRING NEURAL UP-LINK...</span>
            </div>
            <div style="display:flex; gap:15px; align-items:center;">
                <button id="theme-toggle" class="batch-selector-btn" onclick="toggleTheme()"
                    style="min-width: 40px; padding: 0 10px;">
                    ☀
                </button>
                <button id="batch-mode-btn" class="batch-selector-btn" onclick="toggleSelectionMode()">
                    BATCH SELECTION: OFF
                </button>
                <div class="company-name" style="position:static;">QST</div>
            </div>
        </header>

        <!-- Lightbox -->
        <div id="lightbox" class="lightbox" onclick="closeLightbox()">
            <button class="lightbox-nav prev" onclick="event.stopPropagation(); navLightbox(-1)">&#10094;</button>
            <img id="lightbox-img" src="" alt="Evidence">
            <button class="lightbox-nav next" onclick="event.stopPropagation(); navLightbox(1)">&#10095;</button>
            <div id="lightbox-filmstrip" class="lightbox-filmstrip" onclick="event.stopPropagation()"></div>
        </div>

        <!-- Main Workspace -->
        <main class="content-area">

            <!-- Grid View -->
            <div id="grid-view" class="camera-grid">
                <!-- Camera Tiles injected here -->
            </div>

            <!-- Detail Analysis View -->
            <div id="detail-view" class="analysis-view">
                <div class="view-header">
                    <div>
                        <h3 id="active-cam-title"
                            style="font-family: var(--font-mono); font-size: 18px; color: var(--accent);">CAMERA
                            ANALYSIS</h3>
                        <p style="font-size: 12px; color: var(--text-muted);" id="active-cam-id">ID: --</p>
                    </div>
                    <button class="back-btn" onclick="hideAnalysis()">← Back to Grid</button>
                </div>

                <!-- Timeline -->
                <div style="display:flex; justify-content:space-between; align-items:center; margin-top:20px;">
                    <h4 class="summary-label">Event Timeline (24H)</h4>

                </div>

                <div class="timeline-axis-wrapper">
                    <div class="y-axis-labels">
                        <span class="y-axis-label">60m</span>
                        <span class="y-axis-label">45m</span>
                        <span class="y-axis-label">30m</span>
                        <span class="y-axis-label">15m</span>
                        <span class="y-axis-label">0m</span>
                    </div>
                    <div class="timeline-scroll-wrapper">
                        <div id="timeline-graph" class="timeline-container">
                            <!-- Graph Elements Dynamic -->
                        </div>
                    </div>
                </div>

                <div id="timeline-legend" class="timeline-legend">
                    <!-- Legend Items Dynamic -->
                </div>



                <!-- Stats -->
                <h4 class="summary-label">Detection Telemetry</h4>
                <div id="camera-stats" class="detection-summary">
                    <!-- Stats cards injected here -->
                </div>

                <!-- Recent Captures -->
                <h4 class="summary-label">Recent Evidence</h4>
                <div id="camera-gallery" class="gallery-grid">
                    <!-- Images injected here -->
                </div>
            </div>



        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>